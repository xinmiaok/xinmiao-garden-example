---
æ ‡é¢˜: obsidian,æ’ä»¶,dataview
åˆ›å»ºæ—¶é—´: 2022-12-18 16:50
ä¿®æ”¹æ—¶é—´: <%+ tp.file.last_modified_date() %>
tags: obsidianæ’ä»¶/å›¾è¡¨
ç±»å‹1: obsidian
ä½œè€…: ä½™æ±‰æ³¢, åƒè¯­é¸Ÿ
u: "[[è®¾ç½®,obsidian,æ’ä»¶]]"
d:
j: 
---

**â—€ï¸ [[40 - Obsidian]]>[[44 è®¾ç½®]]>[[è®¾ç½®,obsidian]]>[[è®¾ç½®,obsidian,æ’ä»¶]]| â–¶ï¸ğŸ“ **  

ğŸ§© æ ‡ç­¾:  #è½¯ä»¶ 
ğŸª status: #ğŸ·ï¸
ğŸ class: #ğŸ–‡ï¸

```ad-info
title: <u></u>**æè¿°**
collapse: open
color: 233, 244, 240

description :: æ˜¾ç¤ºè¿‡æ»¤çš„è¡¨æ ¼

æ¥æº:: [obsidianæ’ä»¶dataviewâ€”â€”å¼ºå¤§çš„æ•°æ®è§†å›¾æ’ä»¶ï¼Œä»¥æ•°æ®åº“ç´¢å¼•å‘ˆç°_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Fe411g7DQ/?spm_id_from=333.337.search-card.all.click)
```


## èŒƒä¾‹
- [[dataviewjså¸¸ç”¨ä½¿ç”¨ç¤ºä¾‹èŒƒä¾‹]]
- [[dataviewå¸¸ç”¨ä½¿ç”¨ç¤ºä¾‹èŒƒä¾‹]]
## åŸºç¡€è¯­æ³•
- [[obsidian,è¯­æ³•,dataviewåŸºç¡€è¯­æ³•#dataview åŸºç¡€è¯­æ³•]]
- [Queries - Dataview](https://blacksmithgu.github.io/obsidian-dataview/query/queries/)
## é«˜çº§è¯­æ³•
- [[obsidian,è¯­æ³•,dataviewjsé«˜çº§è¯­æ³•]]

## dataviewjs çš„å‚è€ƒèµ„æ–™

[[é¸Ÿå§çš„dataviewjsæŠ€å·§]]  
[ObsidianDataviewæ–‡æ¡£ä¸­æ–‡ - çŸ¥ä¹](https://www.zhihu.com/column/c_1504479637841866752)

[Obsidian æ’ä»¶ä¹‹ Dataview - å°‘æ•°æ´¾ (sspai.com)](https://sspai.com/post/68183)



## æ•°æ®ç­›é€‰

### æ£€ç´¢èŒƒå›´ from

è¿™ç›®å‰æ„å‘³ç€æŒ‰æ–‡ä»¶å¤¹ï¼ŒæŒ‰æ ‡ç­¾æˆ–ä¼ å…¥/ä¼ å‡ºé“¾æ¥ã€‚`FROM`

1.  **æ ‡ç­¾**ï¼š è¡¨æ ¼çš„æ¥æº .`#tag`
2.  **æ–‡ä»¶å¤¹**ï¼šè¡¨å•çš„æ¥æº ã€‚`"folder"`
3.  **ç‰¹å®šæ–‡ä»¶**ï¼šæŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼šã€‚`"folder/File"`
    -   å¦‚æœæœ‰è·¯å¾„å®Œå…¨ç›¸åŒçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œåˆ™ Dataview ä¼˜å…ˆé€‰æ‹©è¯¥æ–‡ä»¶å¤¹ã€‚å¯ä»¥æŒ‡å®šæ–‡ä»¶ï¼š`folder/File.md`
4.  **é“¾æ¥**ï¼šæ‚¨å¯ä»¥é€‰æ‹©æŒ‡å‘æ–‡ä»¶çš„é“¾æ¥ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ–‡ä»¶ä¸­çš„æ‰€æœ‰é“¾æ¥ã€‚
    -   è¦è·å–é“¾æ¥åˆ°çš„æ‰€æœ‰é¡µé¢ï¼Œè¯·ä½¿ç”¨ ã€‚`[[note]]``[[note]]`
    -   è¦è·å–è¯¥æ–‡ä»¶ä¸­çš„æ‰€æœ‰é“¾æ¥ï¼Œè¯·ä½¿ç”¨ ã€‚`[[note]]``outgoing([[note]])`
    -   å¯ä»¥é€šè¿‡ æˆ– éšå¼å¼•ç”¨å½“å‰æ–‡ä»¶ã€‚`[[#]]``[[]]`

é«˜çº§ç­›é€‰ (and or !)ä¸æˆ–é

-   ä¾‹å¦‚ï¼Œ`#tag and "folder"``folder``#tag`
-   ä» ä¸­æŸ¥è¯¢å°†ä»…è¿”å›åŒ…å«ä½†ä¸åŒ…å« çš„é¡µé¢ã€‚`#food and !#fastfood``#food``#fastfood`
-   `[[Food]] or [[Exercise]]`å°†ç»™å‡ºä»»ä½•é“¾æ¥åˆ°ORçš„é¡µé¢ã€‚`[[Food]]``[[Exercise]]`

æ’é™¤æŒ‡å®šæ ‡ç­¾å’Œæ–‡ä»¶å¤¹ï¼š`-`

-   `-#tag`å°†æ’é™¤å…·æœ‰ç»™å®šæ ‡è®°çš„æ–‡ä»¶ã€‚
-   `#tag and -"folder"`å°†ä»…åŒ…å«æ ‡è®°çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¸åœ¨ ä¸­ã€‚`#tag``"folder"`

### èšåˆæ¡ä»¶ where

ç­›é€‰å­—æ®µä¸Šçš„é¡µé¢ã€‚åªæœ‰å­å¥çš„è®¡ç®—ç»“æœä¸ºçš„é¡µé¢æ‰ä¼šç”Ÿæˆã€‚`true`

`WHERE <clause>`

1.  è·å–è¿‡å» 24 å°æ—¶å†…ä¿®æ”¹çš„æ‰€æœ‰æ–‡ä»¶ï¼š
    
    `LIST WHERE file.mtime >= date(today) - dur(1 day)`
    
2.  æŸ¥æ‰¾æ‰€æœ‰æœªæ ‡è®°ä¸ºå·²å®Œæˆä¸”å·²è¶…è¿‡ä¸€ä¸ªæœˆçš„é¡¹ç›®ï¼š
    
    `LIST FROM #projects WHERE !completed AND file.ctime <= date(today) - dur(1 month)`

### æ’åºå±æ€§ sort
æŒ‰ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µå¯¹æ‰€æœ‰ç»“æœè¿›è¡Œæ’åºã€‚

`SORT date [ASCENDING/DESCENDING/ASC/DESC]`

æ‚¨è¿˜å¯ä»¥æä¾›å¤šä¸ªå­—æ®µä½œä¸ºæ’åºä¾æ®ã€‚æ’åºå°†åŸºäºç¬¬ä¸€ä¸ªå­—æ®µå®Œæˆã€‚ç„¶åï¼Œå¦‚æœå‘ç”Ÿå¹³å±€ï¼Œåˆ™ç¬¬äºŒä¸ªå­—æ®µå°†ç”¨äºå¯¹å¹¶åˆ—å­—æ®µè¿›è¡Œæ’åºã€‚å¦‚æœä»æœ‰å¹³å±€ï¼Œåˆ™ç¬¬ä¸‰ç§å°†è§£å†³å®ƒï¼Œä¾æ­¤ç±»æ¨ã€‚

`SORT field1 [ASCENDING/DESCENDING/ASC/DESC], ..., fieldN [ASC/DESC]`

### åˆ†ç»„ä¾æ® group

å¯¹å­—æ®µä¸Šçš„æ‰€æœ‰ç»“æœè¿›è¡Œåˆ†ç»„ã€‚æ¯ä¸ªå”¯ä¸€å­—æ®µå€¼ç”Ÿæˆä¸€è¡Œï¼Œè¯¥å€¼å…·æœ‰ 2 ä¸ªå±æ€§ï¼šä¸€ä¸ªå¯¹åº”äºè¦åˆ†ç»„çš„å­—æ®µï¼Œå¦ä¸€ä¸ªæ•°ç»„å­—æ®µåŒ…å«æ‰€æœ‰åŒ¹é…çš„é¡µé¢ã€‚`rows`

`GROUP BY field GROUP BY (computed_field) AS name`

ä¸ºäº†ä½¿æ•°ç»„çš„ä½¿ç”¨æ›´å®¹æ˜“ï¼ŒDataview æ”¯æŒå­—æ®µ"æ—‹è½¬"ã€‚å¦‚æœæ‚¨å¸Œæœ›ä»æ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡è·å–å­—æ®µï¼Œåˆ™å°†è‡ªåŠ¨ä» ä¸­çš„æ¯ä¸ªå¯¹è±¡è·å–è¯¥å­—æ®µï¼Œä»è€Œç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ã€‚ç„¶åï¼Œå¯ä»¥åƒå¯¹ç”Ÿæˆçš„æ•°ç»„ä¸€æ ·åº”ç”¨èšåˆè¿ç®—ç¬¦ã€‚`rows``test``rows``rows.test``test``rows``sum()`

### æ‰å¹³åŒ– flatten

åœ¨æ¯è¡Œä¸­å±•å¹³æ•°ç»„ï¼Œåœ¨æ•°ç»„ä¸­çš„æ¯ä¸ªæ¡ç›®ç”Ÿæˆä¸€ä¸ªç»“æœè¡Œã€‚

`FLATTEN field FLATTEN (computed_field) AS name`

ä¾‹å¦‚ï¼Œå°†æ¯ä¸ªæ–‡çŒ®æ³¨é‡Šä¸­çš„å­—æ®µæ‹¼åˆä¸ºæ¯ä½ä½œè€…ä¸€è¡Œï¼š`authors`

æŸ¥è¯¢

`TABLE authors FROM #LiteratureNote FLATTEN authors`

### æ˜¾ç¤ºæ¡æ•° limit
å°†ç»“æœé™åˆ¶ä¸ºæœ€å¤š N ä¸ªå€¼ã€‚

`LIMIT 5`

å‘½ä»¤æŒ‰ç…§å…¶å†™å…¥é¡ºåºè¿›è¡Œå¤„ç†ï¼Œå› æ­¤ä»¥ä¸‹å‘½ä»¤åœ¨é™åˆ¶_å_å¯¹ç»“æœè¿›è¡Œæ’åºï¼š

`LIMIT 5 SORT date ASCENDING`


### ä¾‹å­

![[Pasted image 20221016235711.png]]

---

```dataview
table é¢†åŸŸ, æ–¹æ³•, ç†è®º, æŠ€æœ¯, é¡¹ç›®, ä½œè€…, æ—¶é—´, å­¦æ ¡, å‚è€ƒä»·å€¼
from "40 æ‘˜å½•"
where current-status = "41 æ–‡çŒ®,æ‘˜å½•"
sort å‚è€ƒä»·å€¼ desc
```

```dataview
list 
from  #è®¾è®¡ç”Ÿæˆ and "30 - æ‘˜å½•"
sort æ—¶é—´ desc
```



# ç›¸å…³é“¾æ¥
[æŸ¥è¯¢ - æ•°æ®è§†å›¾ (blacksmithgu.github.io)](https://blacksmithgu.github.io/obsidian-dataview/query/queries/)

https://zhuanlan.zhihu.com/p/373623264